<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>북마크한 뉴스 | NewsTwin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" th:href="@{/css/layout/header.css}" />
    <link rel="stylesheet" th:href="@{/css/mypage/bookmarks.css}" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
</head>

<body>
<th:block th:replace="~{layout/header :: header}"></th:block>

<main class="mypage-container container-fluid py-5">
    <div class="row justify-content-center gx-5">

        <!-- 사이드 메뉴 -->
        <aside class="col-lg-3 col-md-4 mb-4 mb-md-0">
            <div class="list-group shadow-sm border-0 rounded-3">
                <a th:href="@{/mypage/edit}" class="list-group-item list-group-item-action">회원 정보 수정</a>
                <a th:href="@{/mypage/subscription}" class="list-group-item list-group-item-action">구독 카테고리 설정</a>
                <a th:href="@{/mypage/bookmarks}" class="list-group-item list-group-item-action active">북마크한 뉴스</a>
                <a th:href="@{/mypage/withdraw}" class="list-group-item list-group-item-action text-danger">회원 탈퇴</a>
            </div>
        </aside>

        <!-- 메인 콘텐츠 -->
        <section class="col-lg-8 col-md-8">
            <div class="card border-0 shadow-sm rounded-4 p-3">

                <!-- 비었을 때 -->
                <div th:if="${#lists.isEmpty(bookmarks)}" class="text-center text-muted py-5">
                    아직 북마크한 뉴스가 없습니다.
                </div>

                <!-- 목록 -->
                <div th:unless="${#lists.isEmpty(bookmarks)}" class="bookmark-container mt-3 w-100">
                    <div th:each="bookmark : ${bookmarks}" class="bookmark-card">
                        <img th:src="${bookmark.thumbnailUrl}" alt="thumbnail" />

                        <div class="bookmark-info">
                            <p class="bookmark-category" th:text="${bookmark.categoryName}"></p>
                            <h5 class="bookmark-title" th:text="${bookmark.title}"></h5>
                            <p class="bookmark-date" th:text="${bookmark.createdAt}"></p>
                        </div>

                        <div class="bookmark-action">
                            <a th:href="@{/post/{id}(id=${bookmark.postId})}">보러가기</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>
</main>

<th:block th:replace="~{layout/footer :: footer}"></th:block>
<script src="/js/layout/header.js" defer></script>
</body>
</html>
